{
    "name": "iditGetContactDocuments",
    "flow": {
        "name": "iditGetContactDocuments",
        "description": "",
        "steps": [
            {
                "stepType": "apiEnrich",
                "stepArgs": "soapSlim",
                "config": {
                    "endpoint": {
                        "url": "http://idit-ci:7014/idit-web/ws?methodName=getEntityDocuments&serviceName=IDITServices&wsdl"
                    },
                    "method": "IDITServicesgetEntityDocuments.IDITServicesgetEntityDocumentsInterface.IDITServicesgetEntityDocuments",
                    "targetPath": "result.listDocuments",
                    "soapRequest": {
                        "searchEntityDocumentsRequestIVO.attributes.main": "true",
                        "searchEntityDocumentsRequestIVO.entityNumber": "310",
                        "searchEntityDocumentsRequestIVO.entityID": "{{contactId}}"
                    },
                    "httpHeaders": {
                        "userName": "{{$env.userName}}",
                        "password": "{{$env.password}}"
                    }
                },
                "isSelected": false
            },
            {
                "stepType": "mapEnrich",
                "stepArgs": "jsonata",
                "config": {
                    "maps": [
                        {
                            "jsonata": "$map(result.listDocuments.searchEntityDocumentsResponseIVO.entityDocumentsList.entityDocuments,function($v,$i){ {'documentName':$v.documentName, 'documentType': { 'id': $v.documentTypeRef.attributes.id, 'description': $v.documentTypeRef.'$value' }, 'documentReceiptDate': $v.documentCreationDate, 'documentURL': '' }})",
                            "targetPath": "result.listDocuments"
                        }
                    ]
                },
                "isSelected": true
            }
        ]
    },
    "inputSchema": {
        "type": "object",
        "properties": {
            "contactId": {
                "type": "string"
            }
        },
        "example": {
            "contactId": "28829"
        },
        "default": {
            "contactId": "28829"
        }
    },
    "createDate": "2019-08-11T12:36:42.446Z",
    "tag": null
}